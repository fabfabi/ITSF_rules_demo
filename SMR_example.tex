%---------------------------------------------------------------------------
\documentclass[fontsize=11pt, paper=a4]{report}
%---------------------------------------------------------------------------
\usepackage[T1]{fontenc}
\usepackage[english]{babel}  
\usepackage{url}
\usepackage{lipsum}
\usepackage[utf8]{inputenc}
%\usepackage{clipboard} %copy the definitions via \copy{key}{text} and \paste
%\usepackage[sanitize=none]{glossaries}
\usepackage{hyperref}%needs to be loaded BEFORE glossaries
\usepackage[automake]{glossaries}


%---------------------------------------------------------------------------
\usepackage{amsthm} % for Definitions and Theoremes
%\theoremstyle{plain}
%\newtheorem{Definition}{Definition}

%---------------------------------------------------------------------------
\usepackage{thmtools} % for Definitions and Theoremes
\declaretheoremstyle[
    spaceabove=6pt, 
    spacebelow=6pt, 
    headfont=\normalfont\bfseries,
    notefont=\mdseries\bfseries, 
    notebraces={}{},%to not have anything around the name
    bodyfont=\normalfont,
    postheadspace=1em,
    headpunct={:}]{defstyle}
\declaretheorem[numbered=no, style = defstyle]{Definition}
\renewcommand{\listtheoremname}{List of Definitions} %needed in order to have it in the title for \listoftheorems


%\usepackage{cleveref}

%---------------------------------------------------------------------------
% Formatting for the definitions and their references
\newcommand{\refformat}[1]{{\textsc{#1}}}			 %formatting of references to definitions
\newcommand{\defformat}[1]{{\textbf{\refformat{#1}}}}%formatting of definitions --> References in bold face

%\def\UrlFont{\normalfont}%formatting links to normal

%---------------------------------------------------------------------------
% Actual Code for the Definitions and the references

%\newcommand{\tterm}[2]{{\defformat{#1}: #2}} % this one works :-)

\newcommand{\gtterm}[2]{%Initial definition for the glossary
%	{\defformat{#1}: #2}
\label{#1}
	%\glstarget{##1}{%
		\newglossaryentry{#1}{%
				name=#1,%
				description = {#2}%
			}%
		%}%
}

\newcommand{\dtterm}[1]{
%{\defformat{#1}: #2}
\begin{Definition}[name=\defformat{#1}]
	\label{d:#1}
	 \glsdesc*{#1} %Star for ``no hyperlink''
\end{Definition}
}


%\newcommand{\tref}[1]{\refformat{\gls{#1}}}
%\newcommand{\tref}[1]{\refformat{\nameref{\gls{#1}}}}

%\newcommand{\dref}[1]{\refformat{\nameref{d:#1}}} %ref to definition
\newcommand{\dref}[1]{\refformat{\hyperref[d:#1]{#1}}} %ref to definition -> works
\newcommand{\tref}[1]{\refformat{{#1}}} %Ref to technical term (general)
%\newcommand{\gref}[1]{\glstarget{#1}{\refformat{LINK #1}}} %Ref to Glossary - does not work
\newcommand{\gref}[1]{\refformat{LINK\glossentryname{#1}}} %Ref to Glossary

\newcommand{\tterm}[1]{
	\defformat{#1}: \glsdesc{#1}
}


%---------------------------------------------------------------------------
%---------------------------------------------------------------------------
%Glossaries stuff
\renewcommand{\glsnamefont}[1]{\defformat{#1}} %Defines the name in the glossary
\newcommand{\recap}[1]{\item{\tterm{#1}}}
%---------------------------------------------------------------------------
%---------------------------------------------------------------------------

\makeglossaries
\gtterm{stationary ball}{A ball which is not moving}
\gtterm{contact}{When the ball touches a figure on a rod, or any part of a rod that is internal to the playing field}
\gtterm{move}{A \tref{contact} that causes a \tref{stationary ball} to move, or a moving ball to change speed or direction}
\begin{document}



%---------------------------------------------------------------------------
\title{SMR technical demo for \LaTeX}
\maketitle

%---------------------------------------------------------------------------
\pagestyle{plain}%% keine Header in der Kopfzeile bzw. plain
\pagenumbering{arabic}

%---------------------------------------------------------------------------
\chapter{First Chapter}
Just as an example, this can be the first chapter. This Chapter contains the original two big definitions for the following terms
\dtterm{stationary ball}
\dtterm{contact}

\newpage

%---------------------------------------------------------------------------
\chapter{Second Chapter}
Useful definitions
\begin{enumerate}
	\recap{stationary ball}
	\recap{contact}
\end{enumerate}
Now there is a second chapter that may reference some of these definitions. It also defines a new one...
\dtterm{move}
 And later there is some plain text, that just references \gref{move} and \dref{stationary ball}.


%---------------------------------------------------------------------------
\clearpage

\printglossary[title=Definitions, toctitle=List of terms]%, nonumberlist]
%\printnoidxglossary
%---------------------------------------------------------------------------
\end{document}
%
